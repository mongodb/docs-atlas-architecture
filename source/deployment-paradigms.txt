.. _arch-center-paradigms:

================================
{+service+} Deployment Paradigms
================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: onecol

When deploying your database, you have 2 main choices. The following diagram 
shows these options, which are explained further below:

.. figure:: /includes/images/deployment-types.png
   :figwidth: 750px
   :alt: An image showing the different deployment options.


:ref:`Single-Region Deployment<arch-center-paradigms-single>`

This is the simplest deployment option. In a single-region deployment, your 
data is stored in one of a provider's regions (such as AWS's ``us-west-2`` 
or Google's ``asia-northeast3``). With this simplicity and lower cost comes 
the risk of lower availability and potentially higher latency, depending on the 
distribution of your application's users. Because {+service+} always provides a 
minimum of zone-level availability, you cluster nodes are spread across the 
availability zones within a single region, so if a single zone fails, your 
data is still available in the other zones.

:ref:`Multi-Region Deployment <arch-center-paradigms-multi-region>`

This deployment paradigm provides a more robust option with higher availability. 
There are several types of multi-region deployments:

- Deploying clusters to multiple regions hosted by a *single* cloud provider 
  within a single "geography" (large areas like a continent or countries). 
  For example, you deploy clusters in regions called ``us-1`` and ``us-3``, 
  both of which are in the United States and are managed by the same cloud 
  provider. This ensures availability if any given region fails.

- Deploying clusters to one or more regions in two or more geographies. 
  For example, you deploy clusters in regions called ``us-1`` and ``us-3``, 
  both of which are in the United States, and a third cluster in ``eu-2``, 
  which is in Europe. This ensures availability if any given region fails, or 
  if an entire geographic area is unavailable.
  
- Deploying clusters to multiple regions hosted by *multiple* cloud providers. 
  For example, you deploy clusters in the AWS region ``us-west-1`` and the GCP 
  region ``us-east4``. This provides the highest level of availability, ensuring 
  your data is available even if an entire cloud provider fails. 

- Global Cluster Deployment. This option should be considered for only the most complex 
  situations; for example, where you need global aggregation of user data, or 
  where legal terms dictate specific hosting requirements.

The following table provides a comparison of deployment paradigms to help you 
determine the best fit for your needs: 

.. list-table::
   :header-rows: 1
   :widths: 20 20 20 20 20 

   * - Design Consideration
     - Single-Region
     - Multi-Region in One Geography
     - Multi-Region in Multiple Geographies
     - Multi-Cloud

   * - **Availability & Reliability**
     - Data is available if a single zone (data center) fails
     - Data is available if a single region fails
     - Data is available if multiple regions or geographies fail
     - Data is available if a cloud provider fails

   * - **Performance**
     - High for regional users; lower for users in more distant regions.
     - High for users within the chosen geography
     - High for users within all of the chosen geographies
     - High for users within all of the chosen geographies

   * - **Complexity**
     - Quick setup and easy maintenance
     - More complex than Single-Region
     - Same as Multi-region in 1 geography 
     - More difficult, as it requires an account with each provider

   * - **Security & Data Sovereignty**
     - Data, by default, exists in a single location
     - Data resides in a single geographic region
     - You can partition the data so that certain data resides in specific regions.
     - You can partition the data so that certain data resides in specific regions, 
       or even on a specific provider in a specific region.

.. note::

   The cost of each deployment type depends on several factors, including the 
   provider(s) you select, the number of regions you need, the amount of storage, and 
   the processing power of the servers. For the latest pricing information, 
   refer to the `MongoDB Pricing <https://www.mongodb.com/pricing>`_.

When choosing between deployment paradigms, you should consider the geographical distribution of 
your users, as well as your requirements for availability, performance, and
:ref:`data sovereignty <arch-center-compliance-data-sovereignty>`.
Consider the following use cases to help decide which deployment paradigm is the right fit for you: 

Majority of Users in One Geography
----------------------------------

If the majority of your application's users are located in one geography,
we recommend that you choose between a single-region or multi-region deployment with all regions 
within the same geography. While a single-region deployment that is deployed across multiple availability 
zones is protected against zonal outages, a multi-region deployment is more highly available, with protection 
against both zonal and regional outages. For even higher availability, you can deploy across 
multiple regions *and* multiple cloud providers to protect against cloud-provider outages.

All three options above ensure low latency and simplify compliance with data sovereignty requirements, 
as all user data is accessed and stored within the same geography. 

To learn more about these deployment paradigms, see the following pages: 

- :ref:`Single-Region <arch-center-paradigms-single>`
- :ref:`Multi-Region in One Geography <arch-center-paradigms-multi-region>`
- :ref:`Multi-Region and Multi-Cloud in One Geography <arch-center-paradigms-multi-cloud>`

Users Across Multiple Geographies
---------------------------------

If your application users are distributed across multiple geographies, we recommend that you choose
a multi-region deployment with regions in multiple geographies. 
Deploying a server to each geography where you serve customers provides low latency and 
availability in case of a geographical outage. You can also meet security and data sovereignty requirements
by partitioning your data so that user data from each geography is hosted within that geography.

To ensure high availability for regional outages without increasing latency or violating data sovereignty requirements,
you can also deploy to multiple regions in each geography. The highest availabilty for a multi-region deployment 
is achieved by deploying clusters to multiple regions, in multiple geographies, hosted by multiple cloud providers. 

To learn more about these deployment paradigms, see the following pages: 

- :ref:`Multi-Region in Multiple Geographies <arch-center-paradigms-multi-region>`
- :ref:`Multi-Region and Multi-Cloud in Multiple Geographies <arch-center-paradigms-multi-cloud>`

Users Distributed Worldwide
---------------------------

If you are deploying an application to a worldwide audience, we recommend that you deploy a multi-region deployment 
across multiple geographies before considering a global deployment. Global Atlas deployments are the most complex multi-region deployment paradigms,
and therefore require very careful planning. In most cases, a :ref:`Multi-Region <arch-center-paradigms-multi-region>` deployment will fulfill your needs
for high availability, low latency, and data sovereignty.

To learn more about these deployment paradigms, see the following pages: 

- :ref:`Multi-Region in Multiple Geographies <arch-center-paradigms-multi-region>`
- :ref:`Global Deployment <arch-center-global-deployments>`
 



.. toctree::
   :titlesonly:

   Single-Region </single-region>
   Multi-Region </multi-region>
   Multi-Cloud </multi-cloud>
   Hybrid </hybrid>
